<!DOCTYPE html>
<html>
<head>
  <title>QA TestSphere</title>
</head>
<body>

<input id="taskInput" placeholder="Task name">
<button id="addTaskBtn">Add Task</button>

<ul id="taskList"></ul>

<script>
document.getElementById("addTaskBtn").addEventListener("click", async () => {
  const taskName = document.getElementById("taskInput").value;

  const response = await fetch("http://localhost:3000/add-task", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ taskName })
  });

  if (response.ok) {
    // Render only AFTER backend confirms
    const li = document.createElement("li");
    li.innerText = taskName;
    document.getElementById("taskList").appendChild(li);
  } else {
    alert("Backend error while saving task");
  }
});
</script>

</body>
</html>
